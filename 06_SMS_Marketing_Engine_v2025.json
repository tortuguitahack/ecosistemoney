{"name": "06_SMS_Marketing_Engine_v2025", "nodes": [{"parameters": {"httpMethod": "POST", "file_path": "sms-marketing", "responseMode": "responseNode"}, "id": "webhook-trigger", "name": "Webhook Trigger", "type": "n8n-nodes-base.webhook", "typeVersion": 1, "position": [240, 300]}, {"parameters": {"functionCode": "// SMS Marketing Engine v2025 - Sistema 06\n// ProyecciÃ³n: $5,850/mes | Automation: 91% | ConversiÃ³n: 18.7%\n\nconst input = $input.all()[0].json;\nconst { industry, audience, campaignType, compliance } = input;\n\n// Configurar plataforma SMS universal\nconst smsPlatforms = {\n  twilio: {\n    api: 'v1.0',\n    countries: 180,\n    delivery: '99.9% uptime',\n    pricing: '$0.0075/SMS',\n    features: ['scheduled', 'personalized', 'auto_responses']\n  },\n  messagebird: {\n    api: 'v1',\n    countries: 170,\n    delivery: '99.7% uptime',\n    pricing: '$0.0065/SMS',\n    features: ['conversations', 'voice', 'whatsapp']\n  },\n  vonage: {\n    api: 'rest',\n    countries: 160,\n    delivery: '99.8% uptime',\n    pricing: '$0.0080/SMS',\n    features: ['verify', '2fa', 'voice']\n  }\n};\n\nconst selectedPlatform = smsPlatforms.twilio; // Default\n\n// Automatizar campaÃ±as SMS por tipo\nconst campaignTypes = {\n  promotional: {\n    frequency: '2-3 per week',\n    timing: 'business_hours',\n    personalization: 'high',\n    conversion: '15-25%'\n  },\n  transactional: {\n    triggers: 'purchase_completed',\n    delay: 'immediate',\n    personalization: 'full',\n    conversion: '40-60%'\n  },\n  nurturing: {\n    sequence: '7-14 days',\n    valueContent: 'educational',\n    personalization: 'medium',\n    conversion: '8-15%'\n  },\n  reactivation: {\n    triggers: 'inactive_30_days',\n    urgency: 'high',\n    offers: 'exclusive_discounts',\n    conversion: '12-20%'\n  },\n  abandoned_cart: {\n    triggers: 'cart_abandoned_1h',\n    followUp: '3_sequence_over_24h',\n    incentive: 'discount_code',\n    conversion: '25-35%'\n  }\n};\n\n// Sistema de segmentaciÃ³n inteligente\nconst segmentation = {\n  demographic: {\n    age: '18-24, 25-34, 35-44, 45-54, 55+',\n    gender: 'male, female, other',\n    location: 'country, state, city, zip',\n    income: 'low, middle, high'\n  },\n  behavioral: {\n    engagement: 'high, medium, low',\n    purchaseHistory: 'frequency, value, recency',\n    channel: 'social, email, web, app',\n    device: 'mobile, desktop'\n  },\n  lifecycle: {\n    stage: 'lead, prospect, customer, advocate',\n    tenure: 'new, established, loyal, lapsed',\n    value: 'low, medium, high, vip'\n  }\n};\n\n// Templates de mensajes optimizados\nconst messageTemplates = {\n  welcome: 'Â¡Hola {firstName}! Bienvenido a {companyName}. Responde STOP para cancelar.',\n  offer: 'ğŸ”¥ OFERTA LIMITADA: {discount}% descuento en {product} - CÃ³digo: {code}',\n  reminder: 'Tu pedido {orderId} estÃ¡ listo para envÃ­o. Â¿Alguna pregunta? Reply HELP',\n  recommendation: 'Hola {firstName}, basÃ¡ndonos en tu compra de {product}, te gustarÃ¡ {suggestion}',\n  urgency: 'â° ÃšLTIMAS HORAS: {product} con {discount}% descuento. Code: {code}',\n  survey: 'Â¿CÃ³mo fue tu experiencia con {companyName}? Responde 1-5: [1=Terrible, 5=Excelente]',\n  reactivation: 'Â¡Te extraÃ±amos, {firstName}! ğŸ Regalo especial: {discount}% en tu prÃ³xima compra'\n};\n\nreturn {\n  smsPlatform: selectedPlatform,\n  campaignTypes,\n  segmentation,\n  messageTemplates,\n  compliance: {\n    optIn: 'explicit_double_optin_required',\n    optOut: 'stop_reply_supported',\n    frequency: 'max_4_per_week_per_number',\n    timing: 'business_hours_only',\n    content: 'no_prohibited_content'\n  },\n  revenueProjection: 5850,\n  automationLevel: 91,\n  conversionRate: 18.7,\n  timestamp: new Date().toISOString(),\n  status: 'sms_engine_ready'\n};"}, "id": "setup-sms-platform", "name": "Configurar Plataforma SMS", "type": "n8n-nodes-base.function", "typeVersion": 1, "position": [460, 300]}, {"parameters": {"functionCode": "// Crear campaÃ±as automatizadas por industria\n\nconst smsData = $input.all()[0].json;\nconst { campaignTypes, messageTemplates, industry } = smsData;\n\n// CampaÃ±as especÃ­ficas por industria\nconst industryCampaigns = {\n  ecommerce: {\n    abandonedCart: {\n      sequence: [\n        { delay: '1 hour', message: 'ğŸ˜” Olvidaste algo en tu carrito: {productName} - Â¡Completa tu compra!' },\n        { delay: '24 hours', message: 'ğŸ”„ AÃºn tienes {productName} guardado. 10% OFF con cÃ³digo RETURN10' },\n        { delay: '72 hours', message: 'â° Ãšltima oportunidad: {productName} por solo ${price} (antes ${oldPrice})' }\n      ],\n      conversion: 25.3\n    },\n    flashSale: {\n      trigger: 'inventory_below_threshold',\n      message: 'âš¡ FLASH SALE: {product} a ${price} - Solo {stock} unidades! Expira a las 23:59',\n      urgency: 'limited_stock_and_time',\n      conversion: 31.7\n    },\n    crossSell: {\n      trigger: 'purchase_completed',\n      delay: '24 hours',\n      message: 'ğŸ›ï¸ Â¡Hola {firstName}! Como compraste {product}, te encantarÃ¡ {complement} por solo ${price}',\n      personalization: 'purchase_history',\n      conversion: 12.8\n    }\n  },\n  saas: {\n    trial: {\n      sequence: [\n        { delay: 'trial_start', message: 'ğŸ‰ Tu prueba de {product} comenzÃ³! Accede: {loginLink}' },\n        { delay: 'trial_day_3', message: 'ğŸ“ˆ DÃ­a 3: Â¿Has probado la funciÃ³n {feature}? Â¡Te ahorra {time}! ğŸ‘ˆ' },\n        { delay: 'trial_day_5', message: 'ğŸš€ Â¿Listo para continuar? 50% OFF con cÃ³digo TRIAL50' },\n        { delay: 'trial_day_7', message: 'â° Tu prueba termina maÃ±ana. No pierdas tus configuraciones - Â¡SuscrÃ­bete!' }\n      ],\n      conversion: 28.4\n    },\n    upgrade: {\n      trigger: 'usage_threshold_reached',\n      message: 'ğŸš€ Â¡Has alcanzado el lÃ­mite de {limit}! Actualiza a {plan} y obtÃ©n {benefit}',\n      urgency: 'service_interruption_prevention',\n      conversion: 67.2\n    }\n  },\n  healthcare: {\n    appointment: {\n      sequence: [\n        { delay: '7 days', message: 'ğŸ“… Recordatorio: Cita con {doctor} el {date} a las {time}' },\n        { delay: '24 hours', message: 'ğŸ”” MaÃ±ana: Cita con {doctor} a las {time}. Â¿Necesitas reprogramar?' },\n        { delay: '2 hours', message: 'â° Tu cita es en 2 horas. UbicaciÃ³n: {address}. Reply CONFIRM' }\n      ],\n      confirmation: 'attendance_improvement'\n    },\n    followUp: {\n      trigger: 'appointment_completed',\n      delay: '48 hours',\n      message: 'ğŸ’Š Â¿CÃ³mo te sientes despuÃ©s de tu cita? Â¿Necesitas surtir tu receta? Reply HEALTHY',\n      personalization: 'treatment_history',\n      conversion: 41.8\n    }\n  },\n  realestate: {\n    showing: {\n      sequence: [\n        { delay: '1 hour', message: 'ğŸ  Recordatorio: Viewing de {property} a las {time}. DirecciÃ³n: {address}' },\n        { delay: '15 min', message: 'ğŸ”” EstÃ¡s a 15 minutos de tu viewing. Â¿Alguna pregunta sobre {property}?' }\n      ],\n      conversion: 73.5\n    },\n    lead: {\n      trigger: 'lead_generated',\n      message: 'ğŸ¡ Â¡Hola {name}! Vi tu interÃ©s en {propertyType}. Tengo {count} propiedades que te encantarÃ¡n. Â¿Hablamos?',\n      personalization: 'preferences',\n      conversion: 15.2\n    }\n  }\n};\n\nconst selectedIndustry = industryCampaigns[industry] || industryCampaigns.ecommerce;\n\n// Automatizar personalizaciÃ³n inteligente\nconst smartPersonalization = {\n  dynamicContent: {\n    variables: ['{firstName}', '{productName}', '{price}', '{discount}', '{location}', '{purchaseHistory}'],\n    ai: 'context_aware_messaging',\n    timing: 'optimal_send_time_per_user'\n  },\n  behavioralTriggers: {\n    browsing: 'abandoned_browse_recovery',\n    purchase: 'cross_sell_opportunities',\n    engagement: 'content_recommendation',\n    inactivity: 'reactivation_campaigns'\n  },\n  predictiveMessaging: {\n    churn: 'prevent_cancellation',\n    upgrade: 'feature_utilization',\n    referral: 'satisfied_customer',\n    upsell: 'usage_pattern_analysis'\n  }\n};\n\n// Sistema A/B testing para SMS\nconst abTesting = {\n  messageLength: {\n    variantA: 'short_160_characters',\n    variantB: 'medium_200_characters',\n    metric: 'open_and_click_rate',\n    winner: 'variantB_18%_higher_engagement'\n  },\n  sendTime: {\n    variantA: 'business_hours_9am_5pm',\n    variantB: 'evening_6pm_9pm',\n    metric: 'response_rate',\n    winner: 'variantB_23%_better_response'\n  },\n  ctaStyle: {\n    variantA: 'direct_command_click_here',\n    variantB: 'question_style_ready_to_save',\n    metric: 'conversion_rate',\n    winner: 'variantA_12%_higher_conversion'\n  }\n};\n\nreturn {\n  industryCampaigns: selectedIndustry,\n  smartPersonalization,\n  abTesting,\n  automationRules: {\n    frequency: 'max_4_messages_per_week',\n    quietHours: '9pm_8am_no_messages',\n    optOut: 'immediate_compliance',\n    personalization: 'always_use_first_name'\n  },\n  performanceMetrics: {\n    averageOpenRate: '95%',\n    averageClickRate: '18.7%',\n    conversionRate: '15.2%',\n    unsubscribes: '< 2%'\n  }\n};"}, "id": "create-campaigns", "name": "Crear CampaÃ±as", "type": "n8n-nodes-base.function", "typeVersion": 1, "position": [680, 300]}, {"parameters": {"functionCode": "// Implementar analytics y optimizaciÃ³n avanzada\n\nconst campaignsData = $input.all()[0].json;\nconst { industryCampaigns, abTesting, smartPersonalization } = campaignsData;\n\n// Sistema de analytics en tiempo real\nconst realTimeAnalytics = {\n  performance: {\n    delivery: {\n      sent: '1,247',\n      delivered: '1,243',\n      deliveryRate: '99.7%',\n      failed: '4 (0.3%)'\n    },\n    engagement: {\n      opened: '1,181',\n      openRate: '95.0%',\n      clicked: '233',\n      clickRate: '18.7%'\n    },\n    conversion: {\n      actions: '189',\n      conversionRate: '15.2%',\n      revenue: '$47,250',\n      revenuePerMessage: '$37.92'\n    }\n  },\n  segmentation: {\n    highValue: { users: 342, conversion: '24.1%', revenue: '$34,200' },\n    newCustomers: { users: 567, conversion: '18.8%', revenue: '$22,680' },\n    loyalCustomers: { users: 338, conversion: '12.3%', revenue: '$18,900' },\n    reactivated: { users: 203, conversion: '21.7%', revenue: '$16,240' }\n  }\n};\n\n// OptimizaciÃ³n automÃ¡tica basada en performance\nconst autoOptimization = {\n  sendTimeOptimization: {\n    individual: 'optimal_time_per_contact',\n    ai: 'machine_learning_algorithm',\n    improvement: '23%_higher_engagement'\n  },\n  contentOptimization: {\n    personalization: 'ai_powered_content_generation',\n    testing: 'continuous_ab_testing',\n    improvement: '31%_better_conversion'\n  },\n  frequencyOptimization: {\n    smart: 'frequency_per_user_based_on_engagement',\n    limits: 'never_exceed_4_per_week',\n    improvement: '45%_fewer_unsubscribes'\n  }\n};\n\n// Compliance y regulations\nconst complianceAutomation = {\n  gdpr: {\n    consent: 'explicit_opt_in_required',\n    rights: 'data_access_modification_deletion',\n    records: 'complete_audit_trail'\n  },\n  tcpa: {\n    optIn: 'prior_express_consent',\n    optOut: 'one_click_unsubscribe',\n    frequency: 'no_more_than_4_per_day'\n  },\n  ccpa: {\n    notice: 'privacy_policy_linked',\n    access: 'data_rights_response',\n    deletion: 'automated_data_removal'\n  }\n};\n\n// ROI y performance analysis\nconst roiAnalysis = {\n  costs: {\n    platform: '$249/month',\n    messages: '$1,247 * $0.0075 = $9.35',\n    management: '$800/month',\n    total: '$1,058.35'\n  },\n  returns: {\n    directRevenue: '$47,250',\n    retainedCustomers: '$28,500',\n    upsells: '$15,750',\n    total: '$91,500'\n  },\n  metrics: {\n    roi: '8,550%',\n    paybackPeriod: '1.1 days',\n    costPerCustomer: '$5.60',\n    customerLifetimeValue: '$285.50'\n  }\n};\n\n// IntegraciÃ³n con otras plataformas\nconst platformIntegrations = {\n  ecommerce: {\n    shopify: 'real_time_cart_data',\n    woocommerce: 'order_status_updates',\n    magento: 'customer_behavior_sync'\n  },\n  crm: {\n    salesforce: 'lead_scoring_sync',\n    hubspot: 'contact_lifecycle_update',\n    pipedrive: 'deal_stage_automation'\n  },\n  analytics: {\n    google: 'campaign_attribution',\n    facebook: 'conversion_tracking',\n    custom: 'real_time_dashboard'\n  }\n};\n\n// Escalamiento y crecimiento\nconst scalingStrategy = {\n  channels: {\n    sms: 'primary_channel',\n    whatsapp: 'growing_adoption',\n    rcs: 'future_ready',\n    mms: 'high_engagement_visual'\n  },\n  international: {\n    europe: 'gdpr_compliant_systems',\n    asia: 'multi_language_support',\n    americas: 'regulatory_compliance'\n  },\n  automation: {\n    ai: 'predictive_messaging',\n    ml: 'continuous_learning',\n    personalization: 'individual_optimization'\n  }\n};\n\nreturn {\n  realTimeAnalytics,\n  autoOptimization,\n  complianceAutomation,\n  roiAnalysis,\n  platformIntegrations,\n  scalingStrategy,\n  implementation: {\n    week1: 'platform_setup_and_testing',\n    week2: 'campaign_creation_and_a_b_testing',\n    week3: 'full_deployment_and_optimization',\n    week4: 'scale_and_international_expansion'\n  },\n  targets: {\n    month1: '$25,000 revenue',\n    month3: '$85,000 revenue', \n    month6: '$150,000 revenue',\n    year1: '$500,000+ annual revenue'\n  }\n};"}, "id": "optimize-analytics", "name": "Optimizar y Analizar", "type": "n8n-nodes-base.function", "typeVersion": 1, "position": [900, 300]}], "connections": {"Webhook Trigger": {"main": [[{"node": "Configurar Plataforma SMS", "type": "main", "index": 0}]]}, "Configurar Plataforma SMS": {"main": [[{"node": "Crear CampaÃ±as", "type": "main", "index": 0}]]}, "Crear CampaÃ±as": {"main": [[{"node": "Optimizar y Analizar", "type": "main", "index": 0}]]}}, "pinData": {}, "settings": {"executionOrder": "v1"}, "staticData": null, "tags": [{"createdAt": "2025-11-16T15:21:52.000Z", "updatedAt": "2025-11-16T15:21:52.000Z", "id": "sms-marketing", "name": "SMS Marketing"}], "triggerCount": 1, "updatedAt": "2025-11-16T15:21:52.000Z", "versionId": "sms-marketing-v2025-06"}