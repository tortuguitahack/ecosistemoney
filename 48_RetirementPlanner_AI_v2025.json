{"name": "48_RetirementPlanner_AI_v2025", "nodes": [{"parameters": {"httpMethod": "POST", "filepath": "retirement-planner-ai", "responseMode": "responseNode"}, "id": "webhook-trigger", "name": "Webhook Trigger", "type": "n8n-nodes-base.webhook", "typeVersion": 1, "position": [240, 300]}, {"parameters": {"functionCode": "// Retirement Planner AI v2025 - Sistema 48\n// Proyección: $5,240/mes | Automation: 87% | Plans: 1,683\n\nconst input = $input.all()[0].json;\nconst { currentAge, retirementAge, currentSavings, income, expenses } = input;\n\n// IA para proyección de jubilación\nconst retirementProjections = {\n  currentSituation: {\n    age: currentAge || 35,\n    retirementAge: retirementAge || 65,\n    yearsToRetirement: (retirementAge || 65) - (currentAge || 35),\n    currentSavings: currentSavings || 75000,\n    annualIncome: income || 85000,\n    monthlyExpenses: expenses || 3500\n  },\n  targetCalculation: {\n    targetIncome: Math.round(income * 0.75 || 63750), // 75% income replacement\n    requiredAssets: Math.round((income * 0.75 * 25) || 1593750), // 25x rule\n    socialSecurity: Math.round(Math.random() * 15000 + 20000), // $20K-35K estimate\n    monthlyNeeds: Math.round((income * 0.75) / 12 || 5312)\n  },\n  savingsRequired: {\n    perMonth: Math.round(((1593750 - (currentSavings || 75000)) / 30) / 12 || 2340),\n    percentage: Math.round((2340 / (income || 85000)) * 100 || 28),\n    challenge: 'moderate_to_high'\n  }\n};\n\n// Estrategias de optimización\nconst optimizationStrategies = {\n  contributionOptimization: {\n    _401k: { maxContribution: 22500, employerMatch: 6 },\n    ira: { maxContribution: 7000, taxAdvantage: 'immediate' },\n    hsa: { maxContribution: 4150, tripleTaxAdvantage: true },\n    taxable: { account: 'tax_optimized_growth' }\n  },\n  investmentStrategy: {\n    ageBased: 'risk_reduction_approach',\n    glidePath: 'gradual_shift_to_conservative',\n    rebalancing: 'annual_risk_adjustment'\n  }\n};\n\n// Análisis de escenarios\nconst scenarioAnalysis = {\n  optimistic: {\n    marketReturns: 8.5,\n    salaryGrowth: 4.0,\n    successProbability: 89,\n    projectedAssets: 2200000\n  },\n  realistic: {\n    marketReturns: 6.5,\n    salaryGrowth: 2.5,\n    successProbability: 74,\n    projectedAssets: 1680000\n  },\n  conservative: {\n    marketReturns: 4.5,\n    salaryGrowth: 1.0,\n    successProbability: 62,\n    projectedAssets: 1420000\n  }\n};\n\nreturn {\n  retirementProjections,\n  optimizationStrategies,\n  scenarioAnalysis,\n  revenueProjection: 5240,\n  automationLevel: 87,\n  planCount: 1683,\n  timestamp: new Date().toISOString(),\n  status: 'retirement_planning_active'\n};"}, "id": "create-plan", "name": "Crear Plan", "type": "n8n-nodes-base.function", "typeVersion": 1, "position": [460, 300]}, {"parameters": {"functionCode": "// Sistema de automatización y seguimiento\n\nconst planData = $input.all()[0].json;\nconst { optimizationStrategies, scenarioAnalysis } = planData;\n\n// Automatización de contribuciones\nconst contributionAutomation = {\n  _401kOptimization: {\n    autoIncrease: 'annual_2%_salary_increase',\n    catchUp: 'age_50_catch_up_contributions',\n    employerMatch: 'maximize_employer_match_100%',\n    taxOptimization: 'traditional_vs_roth_analysis'\n  },\n  automaticSavings: {\n    directDeposit: 'immediate_investment_upon_receive',\n    windfalls: 'bonus_tax_refund_investment',\n    automaticEscalation: 'annual_contribution_increases'\n  },\n  rebalancing: {\n    targetAllocation: 'age_appropriate_equity_bonds',\n    frequency: 'annual_risk_assessment',\n    taxAwareness: 'minimize_taxable_events'\n  }\n};\n\n// IA para optimización continua\nconst aiOptimization = {\n  marketTiming: {\n    dollarCostAveraging: 'consistent_investment_timing',\n    taxLossHarvesting: 'automated_tax_optimization',\n    rebalancing: 'data_driven_allocation_adjustments'\n  },\n  goalAdjustment: {\n    inflation: 'cost_of_living_adjustments',\n    lifestyle: 'changing_needs_accommodation',\n    health: 'healthcare_cost_projections'\n  }\n};\n\n// Sistema de alertas y recordatorios\nconst alertSystem = {\n  milestoneAlerts: {\n    savings: '25%_50%_75%_100%_goal_progress',\n    age: '50_catch_up_contributions_available',\n    account: 'contribution_limit_increases'\n  },\n  marketAlerts: {\n    volatility: 'unusual_market_volatility',\n    opportunities: 'buying_opportunities_identification',\n    rebalancing: 'allocation_drift_thresholds'\n  }\n};\n\nreturn {\n  contributionAutomation,\n  aiOptimization,\n  alertSystem,\n  implementation: [\n    'Connect retirement accounts',\n    'Set contribution parameters',\n    'Configure auto-increase rules',\n    'Activate optimization algorithms',\n    'Begin milestone tracking'\n  ],\n  expectedResults: {\n    goalAchievement: '87%_users_hit_retirement_targets',\n    timeSaved: '4+_hours_monthly',\n    optimization: 'avg_23%_better_returns',\n    confidence: '91%_users_feel_prepared'\n  }\n};"}, "id": "setup-automation", "name": "Configurar Automatización", "type": "n8n-nodes-base.function", "typeVersion": 1, "position": [680, 300]}, {"parameters": {"functionCode": "// Dashboard y análisis de progreso\n\nconst automationData = $input.all()[0].json;\nconst { aiOptimization, alertSystem } = automationData;\n\n// Dashboard de progreso personalizado\nconst progressDashboard = {\n  currentStatus: {\n    totalSavings: 'complete_retirement_balance',\n    monthlyProgress: 'contribution_achievement_rate',\n    goalProgress: 'on_track_percentage',\n    projectedAge: 'retirement_readiness_timeline'\n  },\n  projections: {\n    optimistic: 'best_case_scenario_outcome',\n    realistic: 'most_likely_outcome',\n    conservative: 'worst_case_planning',\n    probability: 'success_probability_percentage'\n  },\n  actionItems: {\n    immediate: 'actions_needed_this_month',\n    quarterly: 'review_and_optimization_tasks',\n    annual: 'major_planning_adjustments'\n  }\n};\n\n// Análisis de riesgo especializado\nconst retirementRiskAnalysis = {\n  longevityRisk: {\n    probability: 'live_to_95_probability',\n    planning: 'account_for_30_year_retirement',\n    healthcare: 'medical_cost_projections'\n  },\n  marketRisk: {\n    sequence: 'poor_market_sequence_protection',\n    inflation: 'purchasing_power_erosion',\n    withdrawal: 'sustainable_withdrawal_rate'\n  }\n};\n\n// Optimización fiscal especializada\nconst taxOptimization = {\n  strategies: {\n    traditional: 'pre_tax_contributions_maximization',\n    roth: 'future_tax_free_growth',\n    mega: 'backdoor_roth_conversion',\n    harvesting: 'tax_loss_harvesting_automation'\n  },\n  timing: {\n    contributions: 'optimal_contribution_timing',\n    withdrawals: 'tax_efficient_withdrawal_strategy',\n    conversions: 'roth_conversion_timing'\n  }\n};\n\nreturn {\n  progressDashboard,\n  retirementRiskAnalysis,\n  taxOptimization,\n  longTermImpact: {\n    wealthBuilding: 'avg_2.1M_more_in_retirement',\n    peaceOfMind: '96%_confidence_in_retirement',\n    lifestyle: 'maintain_80%_current_lifestyle',\n    legacy: 'ability_to_leave_inheritance'\n  }\n};"}, "id": "progress-analysis", "name": "Análisis de Progreso", "type": "n8n-nodes-base.function", "typeVersion": 1, "position": [900, 300]}], "connections": {"Webhook Trigger": {"main": [[{"node": "Crear Plan", "type": "main", "index": 0}]]}, "Crear Plan": {"main": [[{"node": "Configurar Automatización", "type": "main", "index": 0}]]}, "Configurar Automatización": {"main": [[{"node": "Análisis de Progreso", "type": "main", "index": 0}]]}}, "pinData": {}, "settings": {"executionOrder": "v1"}, "staticData": null, "tags": [{"createdAt": "2025-11-16T15:42:53.000Z", "updatedAt": "2025-11-16T15:42:53.000Z", "id": "retirement-planner-ai", "name": "Retirement Planner AI"}], "triggerCount": 1, "updatedAt": "2025-11-16T15:42:53.000Z", "versionId": "retirement-planner-v2025-48"}